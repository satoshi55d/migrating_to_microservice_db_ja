## ドメイン駆動設計

何かしらの方法論やテクニックが何年もかけて ”成熟”したり、一般の人々の間で意識されたりするようになるのは興味深いことです。
ドメイン駆動設計（DDD）は、これらの非常に有益なテクニックの1つで、マイクロサービスに関するあらゆる議論においてほぼ必須となっています。
なぜ今になって注目されているのでしょうか。
歴史的に、我々はソフトウェア設計において、常に凝集性と疎結合の2つの相乗的な特性を達成しようとしてきました。
モデル内のエンティティ間の境界を作成し、各境界がうまく作用しつつ、境界を越えて他のエンティティに変更を伝播させないようにします。
残念ながら、いつもそこで大失敗してしまいます。

DDDは、ビジネスドメインのアクティビティ、タスク、イベント、データをソフトウェア成果物にマッピングすることによって、複雑なシステムに取り組むソフトウェア開発のアプローチです。
DDDの最も重要な概念の1つは境界づけられたコンテキストです。
ビジネスモデル内で凝集性のある明確に定義された単位のことを指し、その中でソフトウェア成果物の境界線を定めます。

ドメインモデルの観点からは、マイクロサービスはすべて境界線です。つまり、独立してリリース可能な成果物に変換できる特定のドメインモデルに分割します。
境界の定義がひどい場合、別のマイクロサービスでしか使われない情報にかなり依存する成果物が作られてしまうでしょう。
それだけではなく運用でのダメージも発生します。ある成果物に変更を加えるたびに、別の成果物にそれらの変更を同期させる必要があります。

我々がモノリスファーストを提唱するのは、最初に業務ドメインモデルに関する知識を成熟させることができるからです。
DDDは、ドメインモデルの境界づけられたコンテキスト（グループ化され、高凝集性と疎結合を実現するもの）を識別するのに便利な手法です。
最初からシステムのどの部分が一緒に変化し、どの部分が独立して変化するかを推測するのは非常に困難です。
しかしながら、数か月後あるいは数年経てば、開発者やビジネスアナリストは、それぞれの境界づけられたコンテキストの進化サイクルをよりよく把握すべきです。

これらはマイクロサービスの抽出のために理想的な候補であり、モノリスを絞め殺す出発点になります。

<p class="note">NOTE</p>
DDDについてより詳細に学ぶ場合は、エリック・エヴァンスの書籍『エリック・エヴァンスのドメイン駆動設計』を確認してください。